{"ast":null,"code":"var _jsxFileName = \"/Users/fedepoi/klockner_tpm/client/src/components/dasboard/tarjetasfiltro/GraficoFiltro.jsx\";\nimport React, { Component } from \"react\";\nimport { Input, Label, CardBody, Card } from \"reactstrap\";\nimport CanvasJSReact from \"../canvasjs.react\";\nimport moment from \"moment\";\nimport TableModal from \"../tablemodal/TableModal\";\nimport { Row, Col } from \"reactstrap\";\nvar CanvasJSChart = CanvasJSReact.CanvasJSChart;\nvar CanvasJS = CanvasJSReact.CanvasJS;\nexport class GraficoFiltro extends Component {\n  constructor() {\n    super();\n\n    this.onChange = e => {\n      if (e.target.name === \"color\" && e.target.value === \"Azul\") {\n        this.setState({\n          [e.target.name]: e.target.value,\n          colorHex: \"#007bff\"\n        });\n      } else if (e.target.name === \"color\" && e.target.value === \"Roja\") {\n        this.setState({\n          [e.target.name]: e.target.value,\n          colorHex: \"#dc3545\"\n        });\n      } else if (e.target.name === \"color\" && e.target.value === \"Verde\") {\n        this.setState({\n          [e.target.name]: e.target.value,\n          colorHex: \"#28a745\"\n        });\n      } else if (e.target.name === \"color\" && e.target.value === \"Amarilla\") {\n        this.setState({\n          [e.target.name]: e.target.value,\n          colorHex: \"#F7E91B\"\n        });\n      } else if (e.target.name !== \"color\") {\n        this.setState({\n          [e.target.name]: e.target.value\n        });\n      } else if (e.target.name === \"color\" && e.target.value === \"\") {\n        this.setState({\n          [e.target.name]: e.target.value,\n          colorHex: \"#EAA842\"\n        });\n      }\n    };\n\n    this.state = {\n      color: \"\",\n      equipo: \"\",\n      prioridad: \"\",\n      colorHex: \"#EAA842\"\n    };\n    this.toggleDataSeries = this.toggleDataSeries.bind(this);\n  }\n\n  toggleDataSeries(e) {\n    if (typeof e.dataSeries.visible === \"undefined\" || e.dataSeries.visible) {\n      e.dataSeries.visible = false;\n    } else {\n      e.dataSeries.visible = true;\n    }\n\n    this.chart.render();\n  }\n\n  render() {\n    const {\n      tarjetas\n    } = this.props;\n    var filter = {\n      color: this.state.color && this.state.color,\n      equipo: this.state.equipo && this.state.equipo,\n      prioridad: this.state.prioridad && this.state.prioridad\n    };\n\n    const multiFilter = (arr, filters) => {\n      const filterKeys = Object.keys(filters);\n      return arr.filter(eachObj => {\n        return filterKeys.every(eachKey => {\n          if (!filters[eachKey].length) {\n            return true; // passing an empty filter means that filter is ignored.\n          }\n\n          return filters[eachKey].includes(eachObj[eachKey]);\n        });\n      });\n    };\n\n    const newFilter = multiFilter(tarjetas, filter);\n    const arrEquipos = tarjetas.map(({\n      equipo\n    }) => equipo);\n    const unicosEquipos = Array.from(new Set(arrEquipos)); // Formulas para \"Filtro acumuladas abiertas\"\n    // Filtro todos los meses en el que hay tarjetas abiertas Filtro\n\n    const fechasTarjetasFiltro = newFilter.map(({\n      fecha\n    }) => fecha.substr(0, 7)); // Filtro todos los meses en el que hay tarjetas cerradas Filtro\n\n    const fechasTarjetasFiltroCerradas = newFilter.filter(({\n      estado,\n      color,\n      equipo\n    }) => estado === \"Cerrada\").map(({\n      finReparacion\n    }) => finReparacion.substr(0, 7)); // Borro todos los meses repetidos\n\n    let fechasTarjetasFiltro1 = new Set(fechasTarjetasFiltro);\n    const fechasTarjetasFiltroUnicas = [...fechasTarjetasFiltro1]; // Borro todos los meses repetidos\n\n    let fechasTarjetasFiltro1Cerradas = new Set(fechasTarjetasFiltroCerradas);\n    const fechasTarjetasFiltroUnicasCerradas = [...fechasTarjetasFiltro1Cerradas];\n    var c = fechasTarjetasFiltroUnicas.concat(fechasTarjetasFiltroUnicasCerradas);\n    var fechastarjetasUnicas = c.filter((item, pos) => c.indexOf(item) === pos);\n    const startDate = moment(fechastarjetasUnicas.sort()[0]);\n    const endDate = moment(fechastarjetasUnicas.sort().slice(-1)[1]);\n    const fechastarjetasUnicasRango = [];\n\n    if (endDate.isBefore(startDate)) {\n      throw \"End date must be greated than start date.\";\n    }\n\n    while (startDate.isBefore(endDate)) {\n      fechastarjetasUnicasRango.push(startDate.format(\"YYYY-MM\"));\n      startDate.add(1, \"month\");\n    } // Numero total de tarjetas de cada mes (no acumulado)\n\n\n    let array = fechastarjetasUnicasRango.sort().map((item, index) => {\n      return newFilter.filter(({\n        estado,\n        fecha,\n        color,\n        equipo\n      }) => fecha.substr(4, 4).replace(\"-\", \"\").replace(\"-\", \"\") === item.slice(5, 7)).length;\n    });\n    const arrTarjetasFiltroAcumuladas = array.map((elem, index) => array.slice(0, index + 1).reduce((a, b) => a + b)); // Datos para el grafico\n\n    const FiltroAcumuladasAbiertasData = [fechastarjetasUnicasRango.sort().map((item, index) => {\n      return {\n        x: new Date(parseInt(item.slice(0, 4)), parseInt(item.slice(5, 7) - 1)),\n        y: arrTarjetasFiltroAcumuladas[index]\n      };\n    })]; // Formulas para \"Filtro acumuladas cerradas\"\n    // Numero total de tarjetas de cada mes (no acumulado)\n\n    let arrayCerradas = fechastarjetasUnicasRango.sort().map((item, index) => {\n      return newFilter.filter(({\n        estado,\n        finReparacion,\n        color,\n        equipo\n      }) => estado === \"Cerrada\" && finReparacion.substr(4, 4).replace(\"-\", \"\").replace(\"-\", \"\") === item.slice(5, 7)).length;\n    }); // Acumulado de tarjetas por mes\n\n    const arrTarjetasFiltroAcumuladasCerradas = arrayCerradas.map((elem, index) => arrayCerradas.slice(0, index + 1).reduce((aa, bb) => aa + bb)); // Datos para el grafico\n\n    const FiltroAcumuladasAbiertasDataCerradas = [fechastarjetasUnicasRango.sort().map((item, index) => {\n      return {\n        x: new Date(parseInt(item.slice(0, 4)), parseInt(item.slice(5, 7) - 1)),\n        y: arrTarjetasFiltroAcumuladasCerradas[index]\n      };\n    })]; // Formulas para \"Porcentaje acumuladas cerradas porcentaje\"\n    // Numero total de tarjetas de cada mes (no acumulado)\n\n    let arrayCerradasPorcentaje = fechastarjetasUnicasRango.sort().map((item, index) => {\n      return newFilter.filter(({\n        estado,\n        finReparacion,\n        color,\n        equipo\n      }) => estado === \"Cerrada\" && finReparacion.substr(4, 4).replace(\"-\", \"\").replace(\"-\", \"\") === item.slice(5, 7)).length;\n    }); // Acumulado de tarjetas por mes\n\n    const arrTarjetasFiltroAcumuladasCerradasPorcentaje = arrayCerradasPorcentaje.map((elem, index) => arrayCerradasPorcentaje.slice(0, index + 1).reduce((aa, bb) => aa + bb)); // Datos para el grafico de cerradas porcentaje\n\n    const FiltroAcumuladasAbiertasDataCerradasPorcentaje = [fechastarjetasUnicasRango.map((item, index) => {\n      return {\n        x: new Date(parseInt(item.slice(0, 4)), parseInt(item.slice(5, 7) - 1)),\n        y: arrTarjetasFiltroAcumuladasCerradasPorcentaje[index] / arrTarjetasFiltroAcumuladas[index] * 100\n      };\n    })];\n    CanvasJS.addCultureInfo(\"es\", {\n      decimalSeparator: \",\",\n      // Observe ToolTip Number Format\n      digitGroupSeparator: \".\",\n      // Observe axisY labels\n      months: [\"Enero\", \"Febrero\", \"Marzo\", \"Abril\", \"Mayo\", \"Junio\", \"Julio\", \"Agosto\", \"Septiembre\", \"Octubre\", \"Noviembre\", \"Diciembre\"]\n    });\n    const options = {\n      animationEnabled: true,\n      culture: \"es\",\n      axisX: {\n        valueFormatString: \"MMMM\",\n        interval: 1,\n        intervalType: \"month\"\n      },\n      axisY: {\n        title: \"Cantidad de tarjetas\",\n        lineColor: \"#000000\",\n        tickColor: \"#000000\",\n        labelFontColor: \"#000000\"\n      },\n      axisY2: {\n        title: \"% de Cierre\",\n        suffix: \"%\",\n        lineColor: \"#000000\",\n        tickColor: \"#000000\",\n        labelFontColor: \"#000000\"\n      },\n      toolTip: {\n        shared: true\n      },\n      legend: {\n        cursor: \"pointer\",\n        itemclick: this.toggleDataSeries,\n        verticalAlign: \"top\"\n      },\n      data: [{\n        color: this.state.colorHex,\n        type: \"column\",\n        name: \"Tarjetas acumuladas (abiertas)\",\n        showInLegend: true,\n        xValueFormatString: \"MMMM YYYY\",\n        dataPoints: FiltroAcumuladasAbiertasData[0]\n      }, {\n        type: \"line\",\n        name: \"Tarjetas acumuladas (cerradas)\",\n        showInLegend: true,\n        dataPoints: FiltroAcumuladasAbiertasDataCerradas[0]\n      }, {\n        type: \"line\",\n        color: \"#121212\",\n        name: \"Porcentaje Tarjetas Cerradas\",\n        showInLegend: true,\n        axisYType: \"secondary\",\n        yValueFormatString: \"#,##0\",\n        dataPoints: FiltroAcumuladasAbiertasDataCerradasPorcentaje[0]\n      }]\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      lg: 4,\n      md: 12,\n      sm: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CardBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 17\n      }\n    }, \"Grafico personalizado\"), /*#__PURE__*/React.createElement(CanvasJSChart, {\n      culture: \"en\",\n      options: options,\n      onRef: ref => this.chart = ref,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 17\n      }\n    })))), /*#__PURE__*/React.createElement(Col, {\n      lg: 8,\n      md: 12,\n      sm: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CardBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 17\n      }\n    }, \"Tabla\"), /*#__PURE__*/React.createElement(TableModal, {\n      tarjetasFiltro1: arrTarjetasFiltroAcumuladas,\n      tarjetasFiltro2: arrTarjetasFiltroAcumuladasCerradas,\n      tarjetasFiltro3: arrTarjetasFiltroAcumuladasCerradasPorcentaje,\n      tarjetasmesabiertas: array,\n      tarjetasmescerradas: arrayCerradas,\n      color: this.state.color,\n      fechas: fechastarjetasUnicasRango,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CardBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 15\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 17\n      }\n    }, \"Filtros\"), /*#__PURE__*/React.createElement(Label, {\n      for: \"color\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 17\n      }\n    }, \"Color\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"select\",\n      name: \"color\",\n      id: \"color\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 19\n      }\n    }, \"Azul\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 19\n      }\n    }, \"Roja\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 19\n      }\n    }, \"Amarilla\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 19\n      }\n    }, \"Verde\")), /*#__PURE__*/React.createElement(Label, {\n      for: \"equipo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 17\n      }\n    }, \"Equipo\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"select\",\n      name: \"equipo\",\n      id: \"equipo\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 19\n      }\n    }), unicosEquipos.map((item, index) => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 28\n        }\n      }, item);\n    })), /*#__PURE__*/React.createElement(Label, {\n      for: \"prioridad\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 17\n      }\n    }, \"Prioridad\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"select\",\n      name: \"prioridad\",\n      id: \"prioridad\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 19\n      }\n    }, \"Alta\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 19\n      }\n    }, \"Media\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 19\n      }\n    }, \"Baja\")))))));\n  }\n\n}\nexport default GraficoFiltro;","map":{"version":3,"sources":["/Users/fedepoi/klockner_tpm/client/src/components/dasboard/tarjetasfiltro/GraficoFiltro.jsx"],"names":["React","Component","Input","Label","CardBody","Card","CanvasJSReact","moment","TableModal","Row","Col","CanvasJSChart","CanvasJS","GraficoFiltro","constructor","onChange","e","target","name","value","setState","colorHex","state","color","equipo","prioridad","toggleDataSeries","bind","dataSeries","visible","chart","render","tarjetas","props","filter","multiFilter","arr","filters","filterKeys","Object","keys","eachObj","every","eachKey","length","includes","newFilter","arrEquipos","map","unicosEquipos","Array","from","Set","fechasTarjetasFiltro","fecha","substr","fechasTarjetasFiltroCerradas","estado","finReparacion","fechasTarjetasFiltro1","fechasTarjetasFiltroUnicas","fechasTarjetasFiltro1Cerradas","fechasTarjetasFiltroUnicasCerradas","c","concat","fechastarjetasUnicas","item","pos","indexOf","startDate","sort","endDate","slice","fechastarjetasUnicasRango","isBefore","push","format","add","array","index","replace","arrTarjetasFiltroAcumuladas","elem","reduce","a","b","FiltroAcumuladasAbiertasData","x","Date","parseInt","y","arrayCerradas","arrTarjetasFiltroAcumuladasCerradas","aa","bb","FiltroAcumuladasAbiertasDataCerradas","arrayCerradasPorcentaje","arrTarjetasFiltroAcumuladasCerradasPorcentaje","FiltroAcumuladasAbiertasDataCerradasPorcentaje","addCultureInfo","decimalSeparator","digitGroupSeparator","months","options","animationEnabled","culture","axisX","valueFormatString","interval","intervalType","axisY","title","lineColor","tickColor","labelFontColor","axisY2","suffix","toolTip","shared","legend","cursor","itemclick","verticalAlign","data","type","showInLegend","xValueFormatString","dataPoints","axisYType","yValueFormatString","ref"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Input, Label, CardBody, Card } from \"reactstrap\";\nimport CanvasJSReact from \"../canvasjs.react\";\nimport moment from \"moment\";\nimport TableModal from \"../tablemodal/TableModal\";\nimport { Row, Col } from \"reactstrap\";\nvar CanvasJSChart = CanvasJSReact.CanvasJSChart;\nvar CanvasJS = CanvasJSReact.CanvasJS;\n\nexport class GraficoFiltro extends Component {\n  constructor() {\n    super();\n    this.state = {\n      color: \"\",\n      equipo: \"\",\n      prioridad: \"\",\n      colorHex: \"#EAA842\",\n    };\n    this.toggleDataSeries = this.toggleDataSeries.bind(this);\n  }\n\n  toggleDataSeries(e) {\n    if (typeof e.dataSeries.visible === \"undefined\" || e.dataSeries.visible) {\n      e.dataSeries.visible = false;\n    } else {\n      e.dataSeries.visible = true;\n    }\n    this.chart.render();\n  }\n\n  onChange = (e) => {\n    if (e.target.name === \"color\" && e.target.value === \"Azul\") {\n      this.setState({\n        [e.target.name]: e.target.value,\n        colorHex: \"#007bff\",\n      });\n    } else if (e.target.name === \"color\" && e.target.value === \"Roja\") {\n      this.setState({\n        [e.target.name]: e.target.value,\n        colorHex: \"#dc3545\",\n      });\n    } else if (e.target.name === \"color\" && e.target.value === \"Verde\") {\n      this.setState({\n        [e.target.name]: e.target.value,\n        colorHex: \"#28a745\",\n      });\n    } else if (e.target.name === \"color\" && e.target.value === \"Amarilla\") {\n      this.setState({\n        [e.target.name]: e.target.value,\n        colorHex: \"#F7E91B\",\n      });\n    } else if (e.target.name !== \"color\") {\n      this.setState({\n        [e.target.name]: e.target.value,\n      });\n    } else if (e.target.name === \"color\" && e.target.value === \"\") {\n      this.setState({\n        [e.target.name]: e.target.value,\n        colorHex: \"#EAA842\",\n      });\n    }\n  };\n\n  render() {\n    const { tarjetas } = this.props;\n\n    var filter = {\n      color: this.state.color && this.state.color,\n      equipo: this.state.equipo && this.state.equipo,\n      prioridad: this.state.prioridad && this.state.prioridad,\n    };\n\n    const multiFilter = (arr, filters) => {\n      const filterKeys = Object.keys(filters);\n      return arr.filter((eachObj) => {\n        return filterKeys.every((eachKey) => {\n          if (!filters[eachKey].length) {\n            return true; // passing an empty filter means that filter is ignored.\n          }\n          return filters[eachKey].includes(eachObj[eachKey]);\n        });\n      });\n    };\n    const newFilter = multiFilter(tarjetas, filter);\n\n    const arrEquipos = tarjetas.map(({ equipo }) => equipo);\n    const unicosEquipos = Array.from(new Set(arrEquipos));\n\n    // Formulas para \"Filtro acumuladas abiertas\"\n\n    // Filtro todos los meses en el que hay tarjetas abiertas Filtro\n    const fechasTarjetasFiltro = newFilter.map(({ fecha }) =>\n      fecha.substr(0, 7)\n    );\n\n    // Filtro todos los meses en el que hay tarjetas cerradas Filtro\n    const fechasTarjetasFiltroCerradas = newFilter\n      .filter(({ estado, color, equipo }) => estado === \"Cerrada\")\n      .map(({ finReparacion }) => finReparacion.substr(0, 7));\n\n    // Borro todos los meses repetidos\n    let fechasTarjetasFiltro1 = new Set(fechasTarjetasFiltro);\n    const fechasTarjetasFiltroUnicas = [...fechasTarjetasFiltro1];\n\n    // Borro todos los meses repetidos\n    let fechasTarjetasFiltro1Cerradas = new Set(fechasTarjetasFiltroCerradas);\n    const fechasTarjetasFiltroUnicasCerradas = [\n      ...fechasTarjetasFiltro1Cerradas,\n    ];\n\n    var c = fechasTarjetasFiltroUnicas.concat(\n      fechasTarjetasFiltroUnicasCerradas\n    );\n    var fechastarjetasUnicas = c.filter((item, pos) => c.indexOf(item) === pos);\n\n    const startDate = moment(fechastarjetasUnicas.sort()[0]);\n    const endDate = moment(fechastarjetasUnicas.sort().slice(-1)[1]);\n\n    const fechastarjetasUnicasRango = [];\n\n    if (endDate.isBefore(startDate)) {\n      throw \"End date must be greated than start date.\";\n    }\n\n    while (startDate.isBefore(endDate)) {\n      fechastarjetasUnicasRango.push(startDate.format(\"YYYY-MM\"));\n      startDate.add(1, \"month\");\n    }\n\n    // Numero total de tarjetas de cada mes (no acumulado)\n    let array = fechastarjetasUnicasRango.sort().map((item, index) => {\n      return newFilter.filter(\n        ({ estado, fecha, color, equipo }) =>\n          fecha.substr(4, 4).replace(\"-\", \"\").replace(\"-\", \"\") ===\n          item.slice(5, 7)\n      ).length;\n    });\n\n    const arrTarjetasFiltroAcumuladas = array.map((elem, index) =>\n      array.slice(0, index + 1).reduce((a, b) => a + b)\n    );\n\n    // Datos para el grafico\n    const FiltroAcumuladasAbiertasData = [\n      fechastarjetasUnicasRango.sort().map((item, index) => {\n        return {\n          x: new Date(\n            parseInt(item.slice(0, 4)),\n            parseInt(item.slice(5, 7) - 1)\n          ),\n          y: arrTarjetasFiltroAcumuladas[index],\n        };\n      }),\n    ];\n\n    // Formulas para \"Filtro acumuladas cerradas\"\n\n    // Numero total de tarjetas de cada mes (no acumulado)\n    let arrayCerradas = fechastarjetasUnicasRango.sort().map((item, index) => {\n      return newFilter.filter(\n        ({ estado, finReparacion, color, equipo }) =>\n          estado === \"Cerrada\" &&\n          finReparacion.substr(4, 4).replace(\"-\", \"\").replace(\"-\", \"\") ===\n            item.slice(5, 7)\n      ).length;\n    });\n\n    // Acumulado de tarjetas por mes\n    const arrTarjetasFiltroAcumuladasCerradas = arrayCerradas.map(\n      (elem, index) =>\n        arrayCerradas.slice(0, index + 1).reduce((aa, bb) => aa + bb)\n    );\n\n    // Datos para el grafico\n    const FiltroAcumuladasAbiertasDataCerradas = [\n      fechastarjetasUnicasRango.sort().map((item, index) => {\n        return {\n          x: new Date(\n            parseInt(item.slice(0, 4)),\n            parseInt(item.slice(5, 7) - 1)\n          ),\n          y: arrTarjetasFiltroAcumuladasCerradas[index],\n        };\n      }),\n    ];\n\n    // Formulas para \"Porcentaje acumuladas cerradas porcentaje\"\n\n    // Numero total de tarjetas de cada mes (no acumulado)\n    let arrayCerradasPorcentaje = fechastarjetasUnicasRango\n      .sort()\n      .map((item, index) => {\n        return newFilter.filter(\n          ({ estado, finReparacion, color, equipo }) =>\n            estado === \"Cerrada\" &&\n            finReparacion.substr(4, 4).replace(\"-\", \"\").replace(\"-\", \"\") ===\n              item.slice(5, 7)\n        ).length;\n      });\n\n    // Acumulado de tarjetas por mes\n    const arrTarjetasFiltroAcumuladasCerradasPorcentaje = arrayCerradasPorcentaje.map(\n      (elem, index) =>\n        arrayCerradasPorcentaje.slice(0, index + 1).reduce((aa, bb) => aa + bb)\n    );\n    // Datos para el grafico de cerradas porcentaje\n\n    const FiltroAcumuladasAbiertasDataCerradasPorcentaje = [\n      fechastarjetasUnicasRango.map((item, index) => {\n        return {\n          x: new Date(\n            parseInt(item.slice(0, 4)),\n            parseInt(item.slice(5, 7) - 1)\n          ),\n          y:\n            (arrTarjetasFiltroAcumuladasCerradasPorcentaje[index] /\n              arrTarjetasFiltroAcumuladas[index]) *\n            100,\n        };\n      }),\n    ];\n\n    CanvasJS.addCultureInfo(\"es\", {\n      decimalSeparator: \",\", // Observe ToolTip Number Format\n      digitGroupSeparator: \".\", // Observe axisY labels\n\n      months: [\n        \"Enero\",\n        \"Febrero\",\n        \"Marzo\",\n        \"Abril\",\n        \"Mayo\",\n        \"Junio\",\n        \"Julio\",\n        \"Agosto\",\n        \"Septiembre\",\n        \"Octubre\",\n        \"Noviembre\",\n        \"Diciembre\",\n      ],\n    });\n    const options = {\n      animationEnabled: true,\n      culture: \"es\",\n      axisX: {\n        valueFormatString: \"MMMM\",\n\n        interval: 1,\n        intervalType: \"month\",\n      },\n      axisY: {\n        title: \"Cantidad de tarjetas\",\n        lineColor: \"#000000\",\n        tickColor: \"#000000\",\n        labelFontColor: \"#000000\",\n      },\n      axisY2: {\n        title: \"% de Cierre\",\n        suffix: \"%\",\n        lineColor: \"#000000\",\n        tickColor: \"#000000\",\n        labelFontColor: \"#000000\",\n      },\n      toolTip: {\n        shared: true,\n      },\n      legend: {\n        cursor: \"pointer\",\n        itemclick: this.toggleDataSeries,\n        verticalAlign: \"top\",\n      },\n      data: [\n        {\n          color: this.state.colorHex,\n          type: \"column\",\n          name: \"Tarjetas acumuladas (abiertas)\",\n          showInLegend: true,\n          xValueFormatString: \"MMMM YYYY\",\n          dataPoints: FiltroAcumuladasAbiertasData[0],\n        },\n        {\n          type: \"line\",\n          name: \"Tarjetas acumuladas (cerradas)\",\n          showInLegend: true,\n          dataPoints: FiltroAcumuladasAbiertasDataCerradas[0],\n        },\n        {\n          type: \"line\",\n          color: \"#121212\",\n          name: \"Porcentaje Tarjetas Cerradas\",\n          showInLegend: true,\n          axisYType: \"secondary\",\n          yValueFormatString: \"#,##0\",\n          dataPoints: FiltroAcumuladasAbiertasDataCerradasPorcentaje[0],\n        },\n      ],\n    };\n\n    return (\n      <div>\n        <Row>\n          <Col lg={4} md={12} sm={12}>\n            <Card>\n              <CardBody>\n                <h3 className=\"mb-3\">Grafico personalizado</h3>\n                <CanvasJSChart\n                  culture=\"en\"\n                  options={options}\n                  onRef={(ref) => (this.chart = ref)}\n                />\n              </CardBody>\n            </Card>\n          </Col>\n          <Col lg={8} md={12} sm={12}>\n            <Card>\n              <CardBody>\n                <h3>Tabla</h3>\n                <TableModal\n                  tarjetasFiltro1={arrTarjetasFiltroAcumuladas}\n                  tarjetasFiltro2={arrTarjetasFiltroAcumuladasCerradas}\n                  tarjetasFiltro3={\n                    arrTarjetasFiltroAcumuladasCerradasPorcentaje\n                  }\n                  tarjetasmesabiertas={array}\n                  tarjetasmescerradas={arrayCerradas}\n                  color={this.state.color}\n                  fechas={fechastarjetasUnicasRango}\n                ></TableModal>\n              </CardBody>\n            </Card>\n            <Card>\n              <CardBody>\n                {\" \"}\n                <h3>Filtros</h3>\n                <Label for=\"color\">Color</Label>\n                <Input\n                  type=\"select\"\n                  name=\"color\"\n                  id=\"color\"\n                  onChange={this.onChange}\n                >\n                  <option></option>\n                  <option>Azul</option>\n                  <option>Roja</option>\n                  <option>Amarilla</option>\n                  <option>Verde</option>\n                </Input>\n                <Label for=\"equipo\">Equipo</Label>\n                <Input\n                  type=\"select\"\n                  name=\"equipo\"\n                  id=\"equipo\"\n                  onChange={this.onChange}\n                >\n                  <option></option>\n                  {unicosEquipos.map((item, index) => {\n                    return <option key={index}>{item}</option>;\n                  })}\n                </Input>\n                <Label for=\"prioridad\">Prioridad</Label>\n                <Input\n                  type=\"select\"\n                  name=\"prioridad\"\n                  id=\"prioridad\"\n                  onChange={this.onChange}\n                >\n                  <option></option>\n                  <option>Alta</option>\n                  <option>Media</option>\n                  <option>Baja</option>\n                </Input>\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}\n\nexport default GraficoFiltro;\n"]},"metadata":{},"sourceType":"module"}